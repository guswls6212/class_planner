# 🧪 기능 동작 체크리스트

## 📋 목적

이 문서는 클래스 플래너 애플리케이션의 핵심 기능들이 실제로 동작하는지 확인하기 위한 체크리스트입니다. 코드가 존재한다고 해서 기능이 동작한다고 판단하지 말고, 실제 사용자 시나리오를 통해 검증해야 합니다.

---

## 🎯 **1. 학생 관리 기능**

### ✅ **학생 추가**

- [x] 학생 이름 입력창에 텍스트 입력 가능
- [x] 빈 이름 입력 시 추가 버튼 비활성화
- [x] 중복 이름 입력 시 경고 메시지 표시
- [x] 유효한 이름 입력 시 학생 목록에 추가됨
- [x] 추가 후 입력창 초기화

### ✅ **학생 목록**

- [x] 추가된 학생들이 목록에 표시됨
- [x] 학생 이름 클릭 시 선택 상태 변경
- [x] 선택된 학생 시각적 표시 (배경색, 테두리 등)
- [x] 선택 해제 시 시각적 표시 제거

### ✅ **학생 삭제**

- [x] 각 학생별 삭제 버튼 표시
- [x] 삭제 버튼 클릭 시 확인 다이얼로그 표시
- [x] 확인 시 학생 목록에서 제거됨
- [x] 선택된 학생 삭제 시 선택 상태 초기화

---

## 🎯 **2. 시간표 관리 기능**

### ✅ **시간표 표시**

- [x] 7일(월~일) x 시간별(9:00~24:00) 그리드 표시
- [x] 요일별 헤더(월, 화, 수, 목, 금, 토, 일) 표시
- [x] 시간별 헤더(9:00, 10:00, 11:00...) 표시
- [x] 세션이 없는 시간대는 빈 셀로 표시

### ✅ **세션 표시**

- [x] 등록된 수업 세션이 해당 시간대에 표시됨
- [x] 세션 블록에 과목명과 학생명 표시
- [x] 과목별 색상으로 구분 표시
- [x] 겹치는 세션들이 Y축으로 분리되어 표시
- [x] 세션 블록에 요일 표시 (예: "월 국어 09:00-10:00")

### ✅ **학생별 필터링**

- [x] 학생 선택 시 해당 학생의 수업만 표시
- [x] 학생 선택 해제 시 전체 학생의 수업 표시
- [x] 필터링 상태가 localStorage에 저장됨

---

## 🎯 **3. 드래그 앤 드롭 수업 추가 (✅ 완성)**

### ✅ **드래그 시작**

- [x] 학생 이름을 드래그 시작할 수 있음
- [x] 드래그 시작 시 시각적 피드백 (커서 변경, 투명도 등)
- [x] 드래그 중인 학생의 enrollment ID가 dataTransfer에 설정됨

### ✅ **드롭 존 표시**

- [x] 시간표의 각 시간대에 드롭 존이 표시됨
- [x] 드래그 오버 시 드롭 존에 시각적 피드백 (배경색 변경)
- [x] 드롭 존의 위치가 정확한 시간대에 매칭됨

### ✅ **드롭 처리**

- [x] 학생을 시간대에 드롭 시 그룹 수업 추가 모달이 열림
- [x] 모달에 드롭된 학생과 시간 정보가 미리 입력됨
- [x] 드롭 후 드래그 상태가 정상적으로 해제됨
- [x] enrollment ID 기반으로 정확한 학생-과목 연결

---

## 🎯 **4. 수업 추가 모달 (✅ 완성)**

### ✅ **모달 열기**

- [x] 드래그 앤 드롭으로 모달 열기
- [x] 빈 공간 클릭으로 모달 열기
- [x] 모달이 화면 중앙에 표시됨
- [x] 모달 외부 클릭 시 모달 닫힘

### ✅ **폼 입력**

- [x] 학생 선택 드롭다운 (드롭된 학생으로 미리 선택됨)
- [x] 과목 선택 드롭다운 (드롭된 학생의 과목으로 미리 선택됨)
- [x] 요일 선택 드롭다운 (드롭된 요일로 미리 선택됨)
- [x] 시작 시간 입력 (드롭된 시간으로 미리 입력됨)
- [x] 종료 시간 입력 (자동으로 1시간 후로 설정됨)
- [x] 강의실 입력 (선택사항)

### ✅ **모달 동작**

- [x] 모든 필수 필드 입력 시 추가 버튼 활성화
- [x] 취소 버튼 클릭 시 모달 닫힘
- [x] 추가 버튼 클릭 시 수업이 시간표에 추가됨
- [x] 추가 후 모달 닫힘

---

## 🎯 **5. 세션 편집 기능 (✅ 완성)**

### ✅ **세션 클릭**

- [x] 세션 블록 클릭 시 편집 모달이 열림
- [x] 모달에 기존 세션 정보가 표시됨
- [x] 학생과 과목 필드는 편집 불가능 (읽기 전용)

### ✅ **편집 모달**

- [x] 요일 변경 가능
- [x] 시작 시간 변경 가능
- [x] 종료 시간 변경 가능
- [x] 강의실 변경 가능

### ✅ **편집 동작**

- [x] 저장 버튼 클릭 시 변경사항이 시간표에 반영됨
- [x] 취소 버튼 클릭 시 변경사항 무시하고 모달 닫힘
- [x] 삭제 버튼 클릭 시 세션이 시간표에서 제거됨

**✅ 완성**: 세션 편집 모달이 완전히 구현됨. 수정, 삭제, 저장 기능 모두 동작

---

## 🎯 **6. 플로팅 패널**

### ✅ **패널 표시**

- [ ] 수강생 리스트가 플로팅 패널로 표시됨
- [ ] 패널이 기본 위치(600px, 90px)에 표시됨
- [ ] 패널이 다른 요소들 위에 표시됨 (z-index)

### ✅ **패널 동작**

- [ ] 패널 헤더를 드래그하여 위치 이동 가능
- [ ] 드래그 중 시각적 피드백 (커서 변경)
- [ ] 패널 위치가 localStorage에 저장됨

### ✅ **검색 기능**

- [ ] 검색 입력창에 텍스트 입력 가능
- [ ] 입력한 텍스트로 학생 목록 실시간 필터링
- [ ] 검색 결과가 없을 시 적절한 메시지 표시

---

## 🎯 **7. PDF 다운로드**

### ✅ **다운로드 버튼**

- [ ] 시간표 다운로드 버튼이 우측 상단에 표시됨
- [ ] 버튼 클릭 시 PDF 생성 시작

### ✅ **PDF 생성**

- [ ] 현재 표시된 시간표가 PDF로 변환됨
- [ ] 선택된 학생이 있으면 해당 학생의 시간표만 포함
- [ ] PDF가 A4 가로 방향으로 생성됨
- [ ] 파일명이 적절하게 생성됨 (예: "김요섭\_시간표.pdf")

---

## 🎯 **8. 데이터 저장**

### ✅ **localStorage 저장**

- [x] 학생 목록이 localStorage에 저장됨
- [x] 과목 목록이 localStorage에 저장됨
- [x] 수강신청 정보가 localStorage에 저장됨
- [x] 수업 세션이 localStorage에 저장됨
- [x] UI 상태(선택된 학생, 패널 위치)가 localStorage에 저장됨

### ✅ **데이터 복원**

- [x] 페이지 새로고침 후 데이터가 복원됨
- [x] 브라우저 재시작 후 데이터가 복원됨

---

## 🎯 **9. 테마 시스템**

### ✅ **다크/라이트 모드 전환**

- [x] 테마 토글 버튼이 올바르게 표시됨
- [x] 다크 모드와 라이트 모드 간 전환 가능
- [x] 테마 설정이 localStorage에 저장됨
- [x] 페이지 새로고침 후 테마 설정 유지
- [x] CSS 변수를 통한 테마별 색상 적용

### ✅ **테마별 색상 시스템**

- [x] 다크 모드: 어두운 배경, 밝은 텍스트
- [x] 라이트 모드: 밝은 배경, 어두운 텍스트
- [x] 경계선 색상이 테마에 맞게 자동 조정
- [x] 세션 블록 색상이 테마와 조화롭게 표시

---

## 🎯 **10. 컴포넌트 테스트 커버리지**

### ✅ **Atoms (원자) 컴포넌트**

- [x] Button.test.tsx - 버튼 렌더링 및 이벤트 처리
- [x] Input.test.tsx - 입력 필드 렌더링 및 이벤트 처리
- [x] Label.test.tsx - 라벨 렌더링 및 스타일링
- [x] StudentListItem.test.tsx - 학생 목록 아이템 렌더링 및 상호작용
- [x] TimeSlot.test.tsx - 시간 슬롯 렌더링 및 스타일링
- [x] WeekdayHeader.test.tsx - 요일 헤더 렌더링 및 스타일링
- [x] ThemeToggle.test.tsx - 테마 토글 기능 및 상태 관리

### ✅ **Molecules (분자) 컴포넌트**

- [x] Card.test.tsx - 카드 컴포넌트 렌더링 및 스타일링
- [x] DropZone.test.tsx - 드롭존 렌더링 및 드래그 앤 드롭 이벤트
- [x] FormField.test.tsx - 폼 필드 렌더링 및 라벨 처리
- [x] SessionBlock.test.tsx - 세션 블록 렌더링 및 클릭 이벤트
- [x] TimeTableRow.test.tsx - 시간표 행 렌더링 및 세션 배치

### ✅ **Organisms (유기체) 컴포넌트**

- [x] StudentManagementSection.test.tsx - 학생 관리 섹션 전체 기능
- [x] TimeTableGrid.test.tsx - 시간표 그리드 렌더링 및 세션 배치
- [x] TimeTableGrid.performance.test.tsx - 성능 테스트 및 알고리즘 검증
- [x] TimeTableGrid.overlap.test.tsx - 세션 겹침 처리 로직

### ✅ **Pages (페이지) 컴포넌트**

- [x] Students.test.tsx - 학생 페이지 전체 기능
- [x] Schedule.test.tsx - 스케줄 페이지 기본 기능
- [x] Schedule.integration.test.tsx - 통합 테스트 및 사용자 시나리오
- [x] Schedule.modal.test.tsx - 모달 관련 기능 테스트

### ✅ **Lib (라이브러리) 함수**

- [x] planner.test.ts - 핵심 비즈니스 로직 및 유틸리티 함수
- [x] pdf-utils.test.ts - PDF 생성 관련 유틸리티 함수

### ✅ **Contexts (컨텍스트)**

- [x] ThemeContext.test.tsx - 테마 컨텍스트 상태 관리 및 전파

---

## 🧪 **테스트 방법**

### **1. 수동 테스트**

```bash
# 개발 서버 실행
npm run dev

# 브라우저에서 다음 시나리오 테스트:
# 1. 학생 추가/삭제
# 2. 드래그 앤 드롭으로 수업 추가
# 3. 세션 클릭으로 편집
# 4. PDF 다운로드
```

### **2. 자동화 테스트**

```bash
# 통합 테스트 실행
npm test -- --run

# 특정 테스트 파일 실행
npm test -- --run src/pages/__tests__/Schedule.integration.test.tsx
```

---

## 🚨 **주의사항**

1. **코드 존재 ≠ 기능 동작**: 코드가 있다고 해서 기능이 동작한다고 판단하지 마세요
2. **실제 사용자 시나리오**: 개발자가 아닌 실제 사용자 입장에서 테스트하세요
3. **브라우저 환경**: Node.js 환경이 아닌 실제 브라우저에서 테스트하세요
4. **데이터 상태**: 다양한 데이터 상태(빈 상태, 많은 데이터, 잘못된 데이터)에서 테스트하세요

## ✅ **현재 완성된 기능들**

### **1. 세션 편집 기능**

- ✅ 세션 블록 클릭 시 편집 모달이 열림
- ✅ 편집 모달이 구현됨 (수정, 삭제 기능 포함)
- ✅ 세션 수정/삭제 기능 구현됨

### **2. 학생 선택 상태 관리**

- ✅ 학생 선택 시 `selected` 클래스가 제대로 적용됨
- ✅ localStorage에 선택 상태가 저장됨 (`useLocal` 훅 정상 작동)
- ✅ `onMouseDown` 이벤트로 안정적인 선택 상태 관리
- ✅ 통합테스트에서 학생 선택 기능 검증 완료

### **3. 드래그 앤 드롭 시스템**

- ✅ enrollment ID 기반으로 정확한 학생-과목 연결
- ✅ 그룹 수업 추가 모달 완벽 동작
- ✅ 통합테스트에서 모든 시나리오 검증 완료

### **4. 통합테스트 시스템**

- ✅ 8개 시나리오 모두 통과
- ✅ 실제 사용자 시나리오 기반 테스트
- ✅ 브라우저 환경과 유사한 테스트 환경 구축

---

## 📝 **체크리스트 사용법**

1. 각 기능을 테스트할 때마다 해당 항목을 체크하세요
2. 체크하지 못한 항목이 있다면 해당 기능에 문제가 있는 것입니다
3. 문제가 발견되면 즉시 수정하고 다시 테스트하세요
4. 모든 항목이 체크될 때까지 반복하세요

---

_이 체크리스트는 애플리케이션의 품질을 보장하기 위한 도구입니다. 정기적으로 업데이트하고 모든 팀원이 공유하여 사용하세요._
