# 🎯 명령어별 영향 범위 정의

## 📋 목적

이 문서는 각 명령어가 어떤 기능과 디자인에 영향을 미치는지 명확히 정의하여, 기존 기능을 보호하면서 새로운 수정사항만 적용할 수 있도록 합니다.

---

## 🎯 **전체 프로젝트 보호 범위**

### **✅ 보호되는 핵심 기능들**

- **학생 관리**: 학생 추가/삭제/선택 기능
- **과목 관리**: 과목 생성 및 관리 기능
- **시간표 관리**: 시간표 표시 및 세션 관리
- **드래그 앤 드롭**: 수업 추가 기능
- **모달 시스템**: 수업 추가/편집 모달
- **PDF 다운로드**: 시간표 PDF 생성 기능
- **테마 시스템**: 다크/라이트 모드 전환
- **라우팅**: 페이지 간 네비게이션
- **localStorage**: 데이터 저장 및 복원
- **Atomic Design**: 컴포넌트 구조

### **❌ 절대 수정 금지 범위**

- 기존 API 인터페이스
- 핵심 비즈니스 로직
- 데이터 구조
- 라우팅 구조
- 컴포넌트 계층 구조

---

## 🎨 **세션 블록 관련 명령어**

### **명령어: "세션셀 높이 줄이기"**

#### **✅ 영향 범위 (수정 가능)**

- `SessionBlock.utils.ts`의 `getSessionBlockStyles` 함수
- `TimeTableGrid.tsx`의 `getSessionYPositions` 함수
- `TimeTableGrid.tsx`의 `getWeekdayHeight` 함수
- 세션 블록의 `height` 속성
- 겹침 간격 계산 로직

#### **❌ 보호 범위 (수정 금지)**

- 세션 블록의 레이아웃 (과목명/학생명/시간 배치)
- 세션 블록의 색상 시스템
- 세션 블록의 클릭 이벤트 처리
- 드래그 앤 드롭 기능
- 모달 시스템
- 학생 관리 기능
- 과목 관리 기능

#### **🧪 테스트 범위**

- `project-protection.test.tsx` - 전체 프로젝트 보호 테스트
- `Schedule.integration.test.tsx` - 통합 테스트

---

## 🎨 **레이아웃 관련 명령어**

### **명령어: "세션셀 레이아웃 변경"**

#### **✅ 영향 범위 (수정 가능)**

- `SessionBlock.tsx`의 내부 레이아웃 스타일
- 텍스트 정렬 (`textAlign`)
- 높이 설정 (`height`)
- 마진 설정 (`margin`)
- 패딩 설정 (`padding`)

#### **❌ 보호 범위 (수정 금지)**

- 세션 블록의 기본 구조
- 클릭 이벤트 처리
- 색상 시스템
- 겹침 처리 로직
- 드래그 앤 드롭 기능

#### **🧪 테스트 범위**

- `SessionBlock.render.test.tsx` - 렌더링 테스트
- `SessionBlock.test.tsx` - 기능 테스트

---

## 🎨 **스타일 관련 명령어**

### **명령어: "세션셀 스타일 변경"**

#### **✅ 영향 범위 (수정 가능)**

- `SessionBlock.utils.ts`의 스타일 속성
- 폰트 크기 (`fontSize`)
- 색상 (`color`, `background`)
- 테두리 (`border`)
- 둥근 모서리 (`borderRadius`)

#### **❌ 보호 범위 (수정 금지)**

- 레이아웃 구조
- 이벤트 처리
- 기능 로직

#### **🧪 테스트 범위**

- `SessionBlock.render.test.tsx` - 스타일 테스트

---

## 🔧 **기능 관련 명령어**

### **명령어: "새로운 기능 추가"**

#### **✅ 영향 범위 (수정 가능)**

- 새로운 컴포넌트 파일
- 새로운 유틸리티 함수
- 새로운 테스트 파일
- 관련 타입 정의

#### **❌ 보호 범위 (수정 금지)**

- 기존 컴포넌트의 핵심 로직
- 기존 API 인터페이스
- 기존 테스트 케이스

#### **🧪 테스트 범위**

- 새로운 기능의 단위 테스트
- 기존 기능과의 통합 테스트

---

## 📝 **명령어 실행 체크리스트**

### **수정 전 체크리스트**

- [ ] 명령어의 영향 범위 확인
- [ ] 보호 범위 확인
- [ ] 관련 테스트 파일 식별
- [ ] 백업 생성 (`git stash`)

### **수정 중 체크리스트**

- [ ] 영향 범위 내에서만 수정
- [ ] 보호 범위 건드리지 않음
- [ ] 관련 테스트 즉시 실행

### **수정 후 체크리스트**

- [ ] 관련 테스트 통과 확인
- [ ] 기존 테스트 통과 확인
- [ ] 브라우저에서 동작 확인
- [ ] 문서 업데이트

---

## 🚨 **보호 메커니즘**

### **1. TypeScript 타입 보호**

```typescript
// 기존 인터페이스 보호
interface SessionBlockProps {
  // 기존 속성들은 수정 금지
  session: Session;
  subjects: Subject[];
  enrollments: Array<{ id: string; studentId: string; subjectId: string }>;
  students: Array<{ id: string; name: string }>;
  onClick: () => void;

  // 새로운 속성만 추가 가능
  newProp?: string; // optional로 추가
}
```

### **2. 테스트 케이스 보호**

```typescript
// 기존 테스트는 수정 금지
it('기존 기능이 정상 동작한다', () => {
  // 이 테스트는 절대 수정하지 않음
});

// 새로운 테스트만 추가
it('새로운 기능이 정상 동작한다', () => {
  // 새로운 기능 테스트
});
```

### **3. 문서 보호**

```markdown
<!-- 기존 문서 섹션은 수정 금지 -->

## 기존 기능

<!-- 새로운 섹션만 추가 -->

## 새로운 기능
```

---

## 🔄 **명령어 실행 워크플로우**

### **Step 1: 명령어 분석**

```bash
# 1. 명령어의 의도 파악
# 2. 영향 범위 정의
# 3. 보호 범위 확인
```

### **Step 2: 백업 생성**

```bash
# 현재 상태 백업
git stash push -m "before [command-name]"
```

### **Step 3: 수정 실행**

```bash
# 영향 범위 내에서만 수정
# 보호 범위 건드리지 않음
```

### **Step 4: 검증**

```bash
# 관련 테스트 실행
npm run test:run -- [related-test]

# 전체 테스트 실행
npm run test:run

# 브라우저 확인
npm run dev
```

### **Step 5: 문서 업데이트**

```bash
# 관련 문서만 업데이트
# 기존 문서는 보호
```

---

## 📊 **보호 효과 측정**

### **정량적 지표**

- 기존 테스트 통과율: 100% 유지
- 새로운 테스트 커버리지: 90% 이상
- 문서 일관성: 100% 유지

### **정성적 지표**

- 기존 기능 동작 보장
- 새로운 기능 정상 동작
- 코드 품질 유지

---

_이 문서는 각 명령어 실행 시 참고하여 기존 기능을 보호하면서 새로운 수정사항만 적용하세요._
