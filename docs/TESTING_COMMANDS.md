# í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” ê· í˜•ì¡íŒ ì ‘ê·¼ + ì•ˆì •ì„± ì¤‘ì‹œ ì „ëµì— ë”°ë¥¸ 3ë‹¨ê³„ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸš€ 3ë‹¨ê³„ í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. ğŸ’¨ **ì»¤ë°‹ ì „ ê²€ì¦** (`npm run pre-commit`)

**ëª©ì **: ë¹ ë¥´ê³  í•µì‹¬ì ì¸ ê²€ì¦ìœ¼ë¡œ ê¸°ë³¸ í’ˆì§ˆ ë³´ì¥

**ì‹¤í–‰ ì‹œì **:
- ë§¤ë²ˆ ì»¤ë°‹í•˜ê¸° ì „
- ê°œë°œ ì¤‘ ì£¼ìš” ë³€ê²½ì‚¬í•­ ì™„ë£Œ í›„
- ë¹ ë¥¸ í”¼ë“œë°±ì´ í•„ìš”í•  ë•Œ

**í¬í•¨ í…ŒìŠ¤íŠ¸**:
```bash
âœ… TypeScript íƒ€ì… ì²´í¬
âœ… ESLint ìë™ ìˆ˜ì • ë° ê²€ì‚¬
âœ… í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸ (Domain + Application)
âœ… API Routes í…ŒìŠ¤íŠ¸
âœ… ì»´í¬ë„ŒíŠ¸ ê¸°ë³¸ í…ŒìŠ¤íŠ¸
âœ… ë¹Œë“œ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 1-3ë¶„

**ì‚¬ìš©ë²•**:
```bash
# ê¸°ë³¸ ì‹¤í–‰
npm run pre-commit

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
./scripts/pre-commit-check.sh
```

### 2. ğŸ¯ **PR ìƒì„± ì „ ê²€ì¦** (`npm run pre-pr`)

**ëª©ì **: E2E í…ŒìŠ¤íŠ¸ ë° ì „ì²´ í†µí•© ê²€ì¦ìœ¼ë¡œ ì™„ì „í•œ ê¸°ëŠ¥ í™•ì¸

**ì‹¤í–‰ ì‹œì **:
- Pull Request ìƒì„± ì „
- ì£¼ìš” ê¸°ëŠ¥ ì™„ì„± í›„
- ë°°í¬ í›„ë³´ ë¸Œëœì¹˜ ì¤€ë¹„ ì‹œ

**í¬í•¨ í…ŒìŠ¤íŠ¸**:
```bash
âœ… ì»¤ë°‹ ì „ ê²€ì¦ (ê¸°ë³¸ í’ˆì§ˆ ë³´ì¥)
âœ… ì „ì²´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
âœ… ì‹¤ì œ Supabase í†µí•© í…ŒìŠ¤íŠ¸
âœ… í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì¸¡ì •
âœ… ì£¼ìš” E2E ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
âœ… ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸
âœ… í”„ë¡œë•ì…˜ ë¹Œë“œ ê²€ì¦
âœ… ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 5-15ë¶„

**ì‚¬ìš©ë²•**:
```bash
# ê¸°ë³¸ ì‹¤í–‰
npm run pre-pr

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
./scripts/pre-pr-check.sh
```

**ì£¼ì˜ì‚¬í•­**:
- E2E í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ì ì„ íƒìœ¼ë¡œ ê³„ì† ì§„í–‰ ê°€ëŠ¥
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í•„ìš” (Supabase í†µí•© í…ŒìŠ¤íŠ¸)

### 3. ğŸ›¡ï¸ **ë°°í¬ ì „ ê²€ì¦** (`npm run pre-deploy`)

**ëª©ì **: ëª¨ë“  í…ŒìŠ¤íŠ¸ + ë³´ì•ˆ + ì„±ëŠ¥ ê²€ì¦ìœ¼ë¡œ ë°°í¬ ì•ˆì •ì„± ë³´ì¥

**ì‹¤í–‰ ì‹œì **:
- í”„ë¡œë•ì…˜/ìŠ¤í…Œì´ì§• ë°°í¬ ì „
- ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ ì‹œ
- ìµœì¢… í’ˆì§ˆ ê²€ì¦ì´ í•„ìš”í•  ë•Œ

**í¬í•¨ í…ŒìŠ¤íŠ¸**:
```bash
âœ… PR ê²€ì¦ (ëª¨ë“  ì´ì „ ë‹¨ê³„ í¬í•¨)
âœ… ì „ì²´ E2E í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸
âœ… ëª¨ë“  ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ê²€ì¦
âœ… ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸
âœ… ì‹œìŠ¤í…œ ë ˆë²¨ í…ŒìŠ¤íŠ¸
âœ… ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸
âœ… ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬ (npm audit)
âœ… í™˜ê²½ ë³€ìˆ˜ ë° ì„¤ì • ê²€ì¦
âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
âœ… ìµœì¢… í”„ë¡œë•ì…˜ ë¹Œë“œ ê²€ì¦
âœ… ë¹Œë“œ ê²°ê³¼ë¬¼ ë¬´ê²°ì„± ê²€ì‚¬
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 15-30ë¶„

**ì‚¬ìš©ë²•**:
```bash
# ê¸°ë³¸ ì‹¤í–‰ (í™˜ê²½ ì„ íƒ)
npm run pre-deploy

# í™˜ê²½ ë³€ìˆ˜ë¡œ ì§ì ‘ ì§€ì •
DEPLOY_ENV=production npm run pre-deploy
DEPLOY_ENV=staging npm run pre-deploy

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
./scripts/pre-deploy-check.sh
```

**ë°°í¬ í™˜ê²½ ì„ íƒ**:
- `staging`: ìŠ¤í…Œì´ì§• í™˜ê²½ (ì¼ë¶€ ì‹¤íŒ¨ í—ˆìš©)
- `production`: í”„ë¡œë•ì…˜ í™˜ê²½ (ì—„ê²©í•œ ê²€ì¦)

## ğŸ“Š ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ì™€ì˜ ë¹„êµ

### ê¸°ì¡´ `prepare-commit` vs ìƒˆë¡œìš´ ìŠ¤í¬ë¦½íŠ¸

| êµ¬ë¶„ | prepare-commit | pre-commit | pre-pr | pre-deploy |
|------|----------------|------------|--------|------------|
| **ëª©ì ** | ê¸°ì¡´ ê¸°ëŠ¥ ë³´í˜¸ | ì»¤ë°‹ ì „ í•„ìˆ˜ ê²€ì¦ | PR ì „ í†µí•© ê²€ì¦ | ë°°í¬ ì „ ì™„ì „ ê²€ì¦ |
| **ì†Œìš”ì‹œê°„** | 3-5ë¶„ | 1-3ë¶„ | 5-15ë¶„ | 15-30ë¶„ |
| **íƒ€ì…ì²´í¬** | âŒ (ì£¼ì„ì²˜ë¦¬) | âœ… | âœ… | âœ… |
| **ë‹¨ìœ„í…ŒìŠ¤íŠ¸** | âœ… (ê³„ì¸µë³„) | âœ… (í•µì‹¬ë§Œ) | âœ… (ì „ì²´) | âœ… (ì „ì²´) |
| **í†µí•©í…ŒìŠ¤íŠ¸** | âœ… (ê¸°ë³¸) | âŒ | âœ… (Supabase) | âœ… (ì „ì²´) |
| **E2Eí…ŒìŠ¤íŠ¸** | âŒ | âŒ | âœ… (ì£¼ìš”) | âœ… (ì „ì²´) |
| **ë¹Œë“œí…ŒìŠ¤íŠ¸** | âœ… | âœ… | âœ… | âœ… |
| **ë³´ì•ˆê²€ì‚¬** | âŒ | âŒ | âŒ | âœ… |
| **ì„±ëŠ¥í…ŒìŠ¤íŠ¸** | âŒ | âŒ | âŒ | âœ… |

## ğŸ¯ ê¶Œì¥ ì‚¬ìš© íŒ¨í„´

### ê°œë°œ ì¤‘ (ë§¤ì¼)
```bash
# ì½”ë“œ ìˆ˜ì • í›„ ë¹ ë¥¸ í™•ì¸
npm run pre-commit
```

### ê¸°ëŠ¥ ì™„ì„± í›„ (ì£¼ 1-2íšŒ)
```bash
# PR ìƒì„± ì „ ì¢…í•© ê²€ì¦
npm run pre-pr
```

### ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ (ì›” 1-2íšŒ)
```bash
# ë°°í¬ ì „ ìµœì¢… ê²€ì¦
npm run pre-deploy
```

## ğŸ”§ ê°œë³„ í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```bash
# ì „ì²´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
npm run test

# íŠ¹ì • íŒŒì¼/íŒ¨í„´
npm run test -- StudentId.test.ts
npm run test -- src/domain/

# ê°ì‹œ ëª¨ë“œ (ê°œë°œ ì¤‘)
npm run test:watch

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
npm run test:coverage
```

### í†µí•© í…ŒìŠ¤íŠ¸
```bash
# Supabase í†µí•© í…ŒìŠ¤íŠ¸
npm run test:integration:real-supabase

# ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸
npm run test:real-client
```

### E2E í…ŒìŠ¤íŠ¸
```bash
# ì „ì²´ E2E í…ŒìŠ¤íŠ¸
npm run test:e2e

# UI ëª¨ë“œ
npm run test:e2e:ui

# í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ
npm run test:e2e:headed

# íŠ¹ì • ì‹œë‚˜ë¦¬ì˜¤
npm run test:e2e:real-scenarios
npm run test:e2e:browser-compatibility
```

### ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
```bash
# ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
npm run test:system

# í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ
npm run test:system:headless
```

### ê¸°íƒ€ ê²€ì¦
```bash
# íƒ€ì… ì²´í¬
npm run type-check

# ë¦°íŠ¸ ê²€ì‚¬
npm run lint
npm run lint:fix

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build
```

## ğŸš¨ ë¬¸ì œ í•´ê²°

### 1. TypeScript ì—ëŸ¬
```bash
# íƒ€ì… ì²´í¬ë§Œ ì‹¤í–‰
npm run type-check

# íŠ¹ì • íŒŒì¼ í™•ì¸
npx tsc --noEmit src/specific-file.ts
```

### 2. E2E í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
```bash
# UI ëª¨ë“œë¡œ ë””ë²„ê·¸
npm run test:e2e:ui

# í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œë¡œ ì¬ì‹¤í–‰
npm run test:e2e:headed
```

### 3. Supabase ì—°ê²° ì‹¤íŒ¨
```bash
# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
echo $NEXT_PUBLIC_SUPABASE_URL
echo $NEXT_PUBLIC_SUPABASE_ANON_KEY

# ìˆ˜ë™ ì—°ê²° í…ŒìŠ¤íŠ¸
npm run test:integration:real-supabase
```

### 4. ë¹Œë“œ ì‹¤íŒ¨
```bash
# ìƒì„¸ ë¹Œë“œ ë¡œê·¸
npm run build -- --debug

# ìºì‹œ ì‚­ì œ í›„ ì¬ë¹Œë“œ
rm -rf .next
npm run build
```

## ğŸ’¡ ìµœì í™” íŒ

### 1. ê°œë°œ ì¤‘ ë¹ ë¥¸ í”¼ë“œë°±
```bash
# ë³€ê²½ëœ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸
npm run test -- --changed

# íŠ¹ì • íŒ¨í„´ë§Œ
npm run test -- --testNamePattern="Student"
```

### 2. ë³‘ë ¬ ì‹¤í–‰
```bash
# ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ ë™ì‹œì—
npm run test & npm run test:e2e:headed &
```

### 3. CI/CD ìµœì í™”
```bash
# GitHub Actionsì—ì„œ
- name: Pre-commit Check
  run: npm run pre-commit
  
- name: Pre-PR Check  
  run: npm run pre-pr
  if: github.event_name == 'pull_request'
  
- name: Pre-deploy Check
  run: DEPLOY_ENV=production npm run pre-deploy
  if: github.ref == 'refs/heads/main'
```

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [í…ŒìŠ¤íŠ¸ ì „ëµ ê°€ì´ë“œ](./TESTING_STRATEGY.md)
- [í”„ë¡œì íŠ¸ êµ¬ì¡° ê°€ì´ë“œ](./PROJECT_STRUCTURE.md)
- [ê°œë°œ ì›Œí¬í”Œë¡œìš° ê°€ì´ë“œ](./DEVELOPMENT_WORKFLOW.md)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-09-20  
**ë¬¸ì„œ ë²„ì „**: v1.0.1  
**ìƒíƒœ**: ì‹¤ì œ ìŠ¤í¬ë¦½íŠ¸ì™€ ì™„ì „ ë™ê¸°í™”ë¨ âœ…