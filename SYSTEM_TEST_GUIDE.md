# 시스템 테스트 가이드

## 📋 개요

이 문서는 클래스 플래너 프로젝트의 **시스템 테스트**를 위한 종합 가이드입니다. 개발팀이 제품의 **기능적 완성도**를 보증하기 위해 수행하는 내부적인 최종 검증 과정입니다.

---

## 🎯 시스템 테스트 목표

### 주요 목표

- **기능적 완성도 검증**: 모든 핵심 기능이 정상적으로 동작하는지 확인
- **사용자 시나리오 검증**: 실제 사용자가 경험할 수 있는 모든 시나리오 테스트
- **데이터 무결성 검증**: 데이터 저장, 조회, 수정, 삭제가 올바르게 동작하는지 확인
- **성능 검증**: 응답 시간, 메모리 사용량, 네트워크 효율성 확인
- **호환성 검증**: 다양한 브라우저와 디바이스에서의 동작 확인

---

## 🧪 테스트 환경 설정

### 필수 요구사항

- Node.js 18+
- npm 또는 yarn
- Chrome, Firefox, Safari 브라우저
- 네트워크 연결 (Supabase 접근용)

### 환경 변수 설정

```bash
# .env.local 파일 생성
NEXT_PUBLIC_SUPABASE_URL=https://kcyqftasdxtqslrhbctv.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 테스트 실행 명령어

```bash
# 개발 서버 실행
npm run dev

# 테스트 실행
npm run test:run

# E2E 테스트 실행
npm run test:e2e
```

---

## 📝 시스템 테스트 케이스

### 1. 인증 및 로그인 시스템 테스트

#### TC-001: Google OAuth 로그인

**목적**: Google 계정을 통한 로그인 기능 검증

**테스트 단계**:

1. 브라우저에서 `http://localhost:3000` 접속
2. 우측 상단 "Login" 버튼 클릭
3. Google OAuth 로그인 페이지로 리다이렉트 확인
4. Google 계정 정보 입력 후 로그인
5. 메인 페이지로 리다이렉트 확인
6. 사용자 프로필 정보 표시 확인

**예상 결과**:

- ✅ 로그인 성공
- ✅ 사용자 프로필 표시
- ✅ 네비게이션 메뉴 활성화

#### TC-002: 로그아웃 기능

**목적**: 로그아웃 기능 검증

**테스트 단계**:

1. 로그인된 상태에서 우측 상단 사용자 프로필 클릭
2. "로그아웃" 옵션 선택
3. 로그아웃 확인

**예상 결과**:

- ✅ 로그아웃 성공
- ✅ 로그인 페이지로 리다이렉트
- ✅ 세션 데이터 초기화

### 2. 학생 관리 시스템 테스트

#### TC-003: 학생 추가 기능

**목적**: 새로운 학생 추가 기능 검증

**테스트 단계**:

1. `/students` 페이지 접속
2. "학생 이름" 입력창에 "김철수" 입력
3. "추가" 버튼 클릭
4. 학생 목록에 "김철수" 추가 확인
5. 중복 이름 "김철수" 다시 입력 시도
6. 에러 메시지 표시 확인

**예상 결과**:

- ✅ 학생 추가 성공
- ✅ 학생 목록에 표시
- ✅ 중복 이름 방지
- ✅ 에러 메시지 표시

#### TC-004: 학생 삭제 기능

**목적**: 학생 삭제 기능 검증

**테스트 단계**:

1. 기존 학생 "김철수" 선택
2. 삭제 버튼 클릭
3. 확인 모달 표시 확인
4. "확인" 버튼 클릭
5. 학생 목록에서 제거 확인

**예상 결과**:

- ✅ 삭제 확인 모달 표시
- ✅ 학생 삭제 성공
- ✅ 목록에서 제거

#### TC-005: 학생 검색 기능

**목적**: 학생 검색 기능 검증

**테스트 단계**:

1. 여러 학생 추가 (김철수, 이영희, 박민수)
2. 검색창에 "김" 입력
3. "김철수"만 필터링 표시 확인
4. 검색창 초기화
5. 모든 학생 표시 확인

**예상 결과**:

- ✅ 실시간 검색 동작
- ✅ 필터링 결과 정확
- ✅ 검색 초기화 정상

### 3. 과목 관리 시스템 테스트

#### TC-006: 과목 추가 기능

**목적**: 새로운 과목 추가 기능 검증

**테스트 단계**:

1. `/subjects` 페이지 접속
2. "과목 이름" 입력창에 "수학" 입력
3. 색상 선택 (예: 빨간색)
4. "추가" 버튼 클릭
5. 과목 목록에 "수학" 추가 확인

**예상 결과**:

- ✅ 과목 추가 성공
- ✅ 선택한 색상으로 표시
- ✅ 과목 목록에 표시

#### TC-007: 과목 편집 기능

**목적**: 과목 정보 수정 기능 검증

**테스트 단계**:

1. 기존 과목 "수학" 선택
2. 과목 이름을 "고등수학"으로 변경
3. 색상을 파란색으로 변경
4. "저장" 버튼 클릭
5. 변경사항 적용 확인

**예상 결과**:

- ✅ 과목 이름 변경 성공
- ✅ 색상 변경 성공
- ✅ 변경사항 저장

#### TC-008: 기본 과목 자동 생성

**목적**: 로그인 시 기본 과목 자동 생성 검증

**테스트 단계**:

1. 로그아웃 상태에서 로그인
2. 기본 과목 초기화 로딩 메시지 확인
3. `/subjects` 페이지 접속
4. 기본 과목들 표시 확인 (초등수학, 중등수학, 중등영어, 중등국어, 중등과학, 중등사회, 고등수학, 고등영어, 고등국어)

**예상 결과**:

- ✅ 기본 과목 자동 생성
- ✅ 로딩 메시지 표시
- ✅ 모든 기본 과목 표시

### 4. 시간표 관리 시스템 테스트

#### TC-009: 세션 추가 (드래그 앤 드롭)

**목적**: 학생 드래그로 세션 추가 기능 검증

**테스트 단계**:

1. `/schedule` 페이지 접속
2. 학생 패널에서 "김철수" 드래그
3. 시간표의 빈 공간에 드롭
4. 세션 추가 모달 표시 확인
5. 과목 선택 (예: 수학)
6. 시간 설정 (예: 10:00-11:00)
7. "추가" 버튼 클릭
8. 시간표에 세션 표시 확인

**예상 결과**:

- ✅ 드래그 앤 드롭 정상 동작
- ✅ 세션 추가 모달 표시
- ✅ 세션 생성 성공
- ✅ 시간표에 표시

#### TC-010: 세션 편집 기능

**목적**: 기존 세션 수정 기능 검증

**테스트 단계**:

1. 기존 세션 클릭
2. 세션 편집 모달 표시 확인
3. 시간을 11:00-12:00으로 변경
4. 과목을 "영어"로 변경
5. "저장" 버튼 클릭
6. 변경사항 적용 확인

**예상 결과**:

- ✅ 세션 편집 모달 표시
- ✅ 시간 변경 성공
- ✅ 과목 변경 성공
- ✅ 변경사항 저장

#### TC-011: 세션 삭제 기능

**목적**: 세션 삭제 기능 검증

**테스트 단계**:

1. 기존 세션 클릭
2. 세션 편집 모달에서 "삭제" 버튼 클릭
3. 삭제 확인 모달 표시 확인
4. "확인" 버튼 클릭
5. 세션 삭제 확인

**예상 결과**:

- ✅ 삭제 확인 모달 표시
- ✅ 세션 삭제 성공
- ✅ 시간표에서 제거

#### TC-012: 세션 드래그 앤 드롭 이동

**목적**: 세션 위치 변경 기능 검증

**테스트 단계**:

1. 기존 세션을 드래그
2. 다른 시간대/요일로 드롭
3. 세션 위치 변경 확인
4. 충돌하는 세션이 있는 경우 자동 재배치 확인

**예상 결과**:

- ✅ 드래그 앤 드롭 정상 동작
- ✅ 세션 위치 변경 성공
- ✅ 충돌 시 자동 재배치

#### TC-013: 충돌 해결 시스템

**목적**: 시간 겹침 충돌 해결 기능 검증

**테스트 단계**:

1. 기존 세션 A (10:00-11:00) 생성
2. 같은 시간대에 세션 B (10:00-11:00) 드래그 앤 드롭
3. 충돌 해결 로직 동작 확인
4. 세션 B가 세션 A 아래로 이동 확인
5. 콘솔에서 충돌 해결 로그 확인

**예상 결과**:

- ✅ 충돌 감지 정상
- ✅ 자동 재배치 성공
- ✅ 세션들이 겹치지 않음
- ✅ 충돌 해결 로그 출력

#### TC-014: 학생별 필터링

**목적**: 학생별 세션 필터링 기능 검증

**테스트 단계**:

1. 여러 학생의 세션 생성
2. 학생 패널에서 특정 학생 선택
3. 해당 학생의 세션만 표시 확인
4. 다른 학생 선택
5. 필터링 결과 변경 확인

**예상 결과**:

- ✅ 학생별 필터링 정상 동작
- ✅ 선택한 학생의 세션만 표시
- ✅ 필터링 결과 실시간 변경

### 5. 데이터 동기화 시스템 테스트

#### TC-015: 로컬 데이터 저장

**목적**: localStorage 데이터 저장 기능 검증

**테스트 단계**:

1. 학생, 과목, 세션 데이터 생성
2. 브라우저 새로고침
3. 데이터 유지 확인
4. 개발자 도구 > Application > Local Storage 확인

**예상 결과**:

- ✅ 데이터 localStorage 저장
- ✅ 새로고침 후 데이터 유지
- ✅ localStorage에 데이터 확인

#### TC-016: 서버 데이터 동기화

**목적**: Supabase 서버 데이터 동기화 기능 검증

**테스트 단계**:

1. 로그인 상태에서 데이터 생성
2. 다른 브라우저/디바이스에서 로그인
3. 동일한 데이터 표시 확인
4. 한 디바이스에서 데이터 수정
5. 다른 디바이스에서 변경사항 확인

**예상 결과**:

- ✅ 서버 데이터 저장
- ✅ 다중 디바이스 동기화
- ✅ 실시간 데이터 업데이트

#### TC-017: 데이터 충돌 해결

**목적**: 로컬-서버 데이터 충돌 해결 기능 검증

**테스트 단계**:

1. 로컬에서 데이터 수정
2. 서버에서 다른 데이터 수정
3. 로그인 시 충돌 해결 모달 표시 확인
4. "Device data" 또는 "Server data" 선택
5. 선택한 데이터로 동기화 확인

**예상 결과**:

- ✅ 충돌 감지 정상
- ✅ 사용자 선택 모달 표시
- ✅ 선택한 데이터로 동기화

### 6. UI/UX 시스템 테스트

#### TC-018: 반응형 디자인

**목적**: 다양한 화면 크기에서의 UI 검증

**테스트 단계**:

1. 데스크톱 브라우저에서 테스트
2. 브라우저 창 크기 조정 (태블릿 크기)
3. 모바일 브라우저에서 테스트
4. 각 화면 크기에서 기능 동작 확인

**예상 결과**:

- ✅ 데스크톱에서 정상 동작
- ✅ 태블릿에서 정상 동작
- ✅ 모바일에서 정상 동작
- ✅ 반응형 레이아웃 적용

#### TC-019: 다크/라이트 테마

**목적**: 테마 전환 기능 검증

**테스트 단계**:

1. 라이트 테마에서 기능 테스트
2. 테마 토글 버튼 클릭
3. 다크 테마로 전환 확인
4. 다크 테마에서 기능 테스트
5. 테마 설정 유지 확인

**예상 결과**:

- ✅ 테마 전환 정상 동작
- ✅ 다크/라이트 테마 모두 정상
- ✅ 테마 설정 유지

#### TC-020: 접근성 (Accessibility)

**목적**: 접근성 기능 검증

**테스트 단계**:

1. 키보드만으로 네비게이션 테스트
2. 스크린 리더 호환성 테스트
3. 색상 대비 확인
4. 포커스 표시 확인

**예상 결과**:

- ✅ 키보드 네비게이션 정상
- ✅ 스크린 리더 호환
- ✅ 적절한 색상 대비
- ✅ 명확한 포커스 표시

### 7. 성능 시스템 테스트

#### TC-021: 페이지 로딩 성능

**목적**: 페이지 로딩 속도 검증

**테스트 단계**:

1. 개발자 도구 > Network 탭 열기
2. 각 페이지 접속 시간 측정
3. 초기 로딩 시간 확인
4. 캐시된 리소스 로딩 시간 확인

**예상 결과**:

- ✅ 초기 로딩 < 3초
- ✅ 캐시된 리소스 < 1초
- ✅ 네트워크 요청 최적화

#### TC-022: 메모리 사용량

**목적**: 메모리 사용량 검증

**테스트 단계**:

1. 개발자 도구 > Memory 탭 열기
2. 페이지 로딩 후 메모리 사용량 확인
3. 여러 기능 사용 후 메모리 사용량 확인
4. 메모리 누수 확인

**예상 결과**:

- ✅ 적절한 메모리 사용량
- ✅ 메모리 누수 없음
- ✅ 가비지 컬렉션 정상

#### TC-023: 대용량 데이터 처리

**목적**: 대용량 데이터 처리 성능 검증

**테스트 단계**:

1. 100명의 학생 생성
2. 50개의 과목 생성
3. 200개의 세션 생성
4. 각 기능의 응답 시간 측정

**예상 결과**:

- ✅ 대용량 데이터에서도 정상 동작
- ✅ 응답 시간 < 2초
- ✅ UI 반응성 유지

### 8. 보안 시스템 테스트

#### TC-024: 인증 보안

**목적**: 인증 시스템 보안 검증

**테스트 단계**:

1. 만료된 토큰으로 API 요청
2. 잘못된 토큰으로 API 요청
3. 인증되지 않은 사용자의 데이터 접근 시도
4. 보안 에러 처리 확인

**예상 결과**:

- ✅ 만료된 토큰 거부
- ✅ 잘못된 토큰 거부
- ✅ 인증되지 않은 접근 차단
- ✅ 적절한 에러 메시지

#### TC-025: 데이터 검증

**목적**: 입력 데이터 검증 기능 검증

**테스트 단계**:

1. 잘못된 형식의 데이터 입력
2. SQL 인젝션 시도
3. XSS 공격 시도
4. 입력 검증 및 필터링 확인

**예상 결과**:

- ✅ 잘못된 형식 거부
- ✅ SQL 인젝션 방지
- ✅ XSS 공격 방지
- ✅ 입력 데이터 검증

---

## 🔍 테스트 실행 가이드

### 1. 사전 준비

```bash
# 프로젝트 클론 및 의존성 설치
git clone <repository-url>
cd class-planner
npm install

# 환경 변수 설정
cp .env.example .env.local
# .env.local 파일에 Supabase 정보 입력

# 개발 서버 실행
npm run dev
```

### 2. 테스트 실행 순서

1. **인증 시스템 테스트** (TC-001 ~ TC-002)
2. **학생 관리 시스템 테스트** (TC-003 ~ TC-005)
3. **과목 관리 시스템 테스트** (TC-006 ~ TC-008)
4. **시간표 관리 시스템 테스트** (TC-009 ~ TC-014)
5. **데이터 동기화 시스템 테스트** (TC-015 ~ TC-017)
6. **UI/UX 시스템 테스트** (TC-018 ~ TC-020)
7. **성능 시스템 테스트** (TC-021 ~ TC-023)
8. **보안 시스템 테스트** (TC-024 ~ TC-025)

### 3. 테스트 결과 기록

각 테스트 케이스마다 다음 정보를 기록하세요:

- **테스트 날짜**: YYYY-MM-DD
- **테스트 환경**: 브라우저, OS, 디바이스
- **테스트 결과**: ✅ 통과 / ❌ 실패
- **실패 시 상세 내용**: 에러 메시지, 스크린샷
- **개선 사항**: 발견된 문제점 및 개선 제안

### 4. 자동화 테스트 실행

```bash
# 단위 테스트 실행
npm run test:run

# E2E 테스트 실행
npm run test:e2e

# 테스트 커버리지 확인
npm run test:coverage
```

---

## 📊 테스트 결과 평가 기준

### 통과 기준

- **기능 테스트**: 모든 핵심 기능이 정상 동작
- **성능 테스트**: 응답 시간 < 3초, 메모리 사용량 적절
- **보안 테스트**: 모든 보안 검증 통과
- **호환성 테스트**: 주요 브라우저에서 정상 동작
- **사용성 테스트**: 직관적인 UI/UX 제공

### 실패 시 대응

1. **즉시 수정 가능한 문제**: 버그 수정 후 재테스트
2. **설계 변경 필요한 문제**: 설계 검토 후 수정
3. **성능 문제**: 최적화 작업 후 재테스트
4. **보안 문제**: 보안 강화 후 재테스트

---

## 🚀 최종 검증 체크리스트

### 필수 검증 항목

- [ ] 모든 핵심 기능 정상 동작
- [ ] 데이터 저장/조회/수정/삭제 정상
- [ ] 사용자 인증 시스템 정상
- [ ] 드래그 앤 드롭 기능 정상
- [ ] 충돌 해결 시스템 정상
- [ ] 데이터 동기화 정상
- [ ] 반응형 디자인 정상
- [ ] 성능 기준 충족
- [ ] 보안 기준 충족
- [ ] 브라우저 호환성 확인

### 배포 준비 완료 기준

- [ ] 모든 테스트 케이스 통과
- [ ] 성능 기준 충족
- [ ] 보안 검증 완료
- [ ] 사용자 시나리오 검증 완료
- [ ] 문서화 완료

---

## 📝 테스트 결과 보고서 템플릿

### 테스트 요약

- **테스트 기간**: YYYY-MM-DD ~ YYYY-MM-DD
- **테스트 환경**:
- **총 테스트 케이스**: 25개
- **통과**: X개
- **실패**: X개
- **통과율**: X%

### 주요 발견 사항

- **긍정적**:
- **문제점**:
- **개선 제안**:

### 최종 판정

- [ ] 배포 승인
- [ ] 추가 수정 필요
- [ ] 재테스트 필요

---

이 시스템 테스트 가이드를 통해 클래스 플래너의 기능적 완성도를 종합적으로 검증할 수 있습니다. 각 테스트 케이스를 순서대로 실행하여 제품의 품질을 보증하세요.

